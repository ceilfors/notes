<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Use emoji to retain meaning in compressed object | Wisen&#39;s notes</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.0974d01b.css" as="style"><link rel="preload" href="/assets/js/app.853bc79c.js" as="script"><link rel="preload" href="/assets/js/2.4d2bddf0.js" as="script"><link rel="preload" href="/assets/js/86.85328b10.js" as="script"><link rel="prefetch" href="/assets/js/10.e5b5d977.js"><link rel="prefetch" href="/assets/js/100.bdafd699.js"><link rel="prefetch" href="/assets/js/101.5bc65cdc.js"><link rel="prefetch" href="/assets/js/102.32015bbf.js"><link rel="prefetch" href="/assets/js/103.02ac1521.js"><link rel="prefetch" href="/assets/js/104.b6b1feee.js"><link rel="prefetch" href="/assets/js/105.03ea24b6.js"><link rel="prefetch" href="/assets/js/106.a1fcacdf.js"><link rel="prefetch" href="/assets/js/107.3cd8b80c.js"><link rel="prefetch" href="/assets/js/11.ef617841.js"><link rel="prefetch" href="/assets/js/12.8719f6b9.js"><link rel="prefetch" href="/assets/js/13.bd90c370.js"><link rel="prefetch" href="/assets/js/14.dfb2eb0c.js"><link rel="prefetch" href="/assets/js/15.d1f89b7a.js"><link rel="prefetch" href="/assets/js/16.6f8ce441.js"><link rel="prefetch" href="/assets/js/17.50c9a8e9.js"><link rel="prefetch" href="/assets/js/18.115f0779.js"><link rel="prefetch" href="/assets/js/19.9c249132.js"><link rel="prefetch" href="/assets/js/20.4987ecdd.js"><link rel="prefetch" href="/assets/js/21.73566c95.js"><link rel="prefetch" href="/assets/js/22.cc52edc1.js"><link rel="prefetch" href="/assets/js/23.e87cbe68.js"><link rel="prefetch" href="/assets/js/24.d0e690ea.js"><link rel="prefetch" href="/assets/js/25.57a4911a.js"><link rel="prefetch" href="/assets/js/26.95ac80a2.js"><link rel="prefetch" href="/assets/js/27.687c5d81.js"><link rel="prefetch" href="/assets/js/28.55e49b52.js"><link rel="prefetch" href="/assets/js/29.253030a1.js"><link rel="prefetch" href="/assets/js/3.0d0d0277.js"><link rel="prefetch" href="/assets/js/30.1660199a.js"><link rel="prefetch" href="/assets/js/31.11165cb4.js"><link rel="prefetch" href="/assets/js/32.fc208212.js"><link rel="prefetch" href="/assets/js/33.3c5138db.js"><link rel="prefetch" href="/assets/js/34.0f4aa72a.js"><link rel="prefetch" href="/assets/js/35.41d00f70.js"><link rel="prefetch" href="/assets/js/36.755fb212.js"><link rel="prefetch" href="/assets/js/37.56003f0e.js"><link rel="prefetch" href="/assets/js/38.169a5539.js"><link rel="prefetch" href="/assets/js/39.51bdc215.js"><link rel="prefetch" href="/assets/js/4.7a6c132a.js"><link rel="prefetch" href="/assets/js/40.471ecd5a.js"><link rel="prefetch" href="/assets/js/41.c54bb0e6.js"><link rel="prefetch" href="/assets/js/42.a3c24409.js"><link rel="prefetch" href="/assets/js/43.e9a49d3b.js"><link rel="prefetch" href="/assets/js/44.a266fa84.js"><link rel="prefetch" href="/assets/js/45.d0a7c34d.js"><link rel="prefetch" href="/assets/js/46.b6b145e2.js"><link rel="prefetch" href="/assets/js/47.654a88d1.js"><link rel="prefetch" href="/assets/js/48.9a74e9ba.js"><link rel="prefetch" href="/assets/js/49.b3a5dec7.js"><link rel="prefetch" href="/assets/js/5.b85d233f.js"><link rel="prefetch" href="/assets/js/50.1eca115a.js"><link rel="prefetch" href="/assets/js/51.8716f403.js"><link rel="prefetch" href="/assets/js/52.ff03185d.js"><link rel="prefetch" href="/assets/js/53.768357df.js"><link rel="prefetch" href="/assets/js/54.22d73e9d.js"><link rel="prefetch" href="/assets/js/55.a21fe936.js"><link rel="prefetch" href="/assets/js/56.aa6990d5.js"><link rel="prefetch" href="/assets/js/57.ccbd9594.js"><link rel="prefetch" href="/assets/js/58.416cf553.js"><link rel="prefetch" href="/assets/js/59.1e1b1300.js"><link rel="prefetch" href="/assets/js/6.1eabe141.js"><link rel="prefetch" href="/assets/js/60.5d696da2.js"><link rel="prefetch" href="/assets/js/61.e4b8c7d4.js"><link rel="prefetch" href="/assets/js/62.3206421d.js"><link rel="prefetch" href="/assets/js/63.c89ecd05.js"><link rel="prefetch" href="/assets/js/64.b8424cff.js"><link rel="prefetch" href="/assets/js/65.b473899f.js"><link rel="prefetch" href="/assets/js/66.b6b6f20e.js"><link rel="prefetch" href="/assets/js/67.c74cd652.js"><link rel="prefetch" href="/assets/js/68.c126bc85.js"><link rel="prefetch" href="/assets/js/69.c361871e.js"><link rel="prefetch" href="/assets/js/7.9ffc98cd.js"><link rel="prefetch" href="/assets/js/70.070e60de.js"><link rel="prefetch" href="/assets/js/71.f74e5767.js"><link rel="prefetch" href="/assets/js/72.da7dd9f7.js"><link rel="prefetch" href="/assets/js/73.86202668.js"><link rel="prefetch" href="/assets/js/74.057958af.js"><link rel="prefetch" href="/assets/js/75.1e3f1f33.js"><link rel="prefetch" href="/assets/js/76.d0b32bb7.js"><link rel="prefetch" href="/assets/js/77.602d37b4.js"><link rel="prefetch" href="/assets/js/78.bb8ebdd3.js"><link rel="prefetch" href="/assets/js/79.d82323ba.js"><link rel="prefetch" href="/assets/js/8.096c29ec.js"><link rel="prefetch" href="/assets/js/80.9d02fa94.js"><link rel="prefetch" href="/assets/js/81.d9687766.js"><link rel="prefetch" href="/assets/js/82.6833aec0.js"><link rel="prefetch" href="/assets/js/83.2cb0ed93.js"><link rel="prefetch" href="/assets/js/84.e3bd7907.js"><link rel="prefetch" href="/assets/js/85.fa6bb992.js"><link rel="prefetch" href="/assets/js/87.b02f5a64.js"><link rel="prefetch" href="/assets/js/88.cc5e55dc.js"><link rel="prefetch" href="/assets/js/89.c196c3cf.js"><link rel="prefetch" href="/assets/js/9.d2ed9056.js"><link rel="prefetch" href="/assets/js/90.f11bc8cf.js"><link rel="prefetch" href="/assets/js/91.acaadfd6.js"><link rel="prefetch" href="/assets/js/92.39c55fd3.js"><link rel="prefetch" href="/assets/js/93.65720321.js"><link rel="prefetch" href="/assets/js/94.c597557f.js"><link rel="prefetch" href="/assets/js/95.4834e8b5.js"><link rel="prefetch" href="/assets/js/96.8013e348.js"><link rel="prefetch" href="/assets/js/97.c068381a.js"><link rel="prefetch" href="/assets/js/98.08d83758.js"><link rel="prefetch" href="/assets/js/99.41cf0c68.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0974d01b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Wisen's notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Â§What's_top_of_mind.html" class="nav-link">
  What's top of mind
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Â§What's_top_of_mind.html" class="nav-link">
  What's top of mind
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="use-emoji-to-retain-meaning-in-compressed-object"><a href="#use-emoji-to-retain-meaning-in-compressed-object" class="header-anchor">#</a> Use emoji to retain meaning in compressed object</h1> <p>When youâ€™re storing objects in a document-oriented database, the attributes of your object count towards your document size. The increase of your payload size will have performance impacts to your query, and you may also hit the technical limit imposed by the database.</p> <blockquote><p>I was working with a university customer, I think 80% of the data they had in their system was attribute names and 64 terabytes data â€” Rick Houlihan</p></blockquote> <p>There are various way of compressing your object, but emoji will retain the meaning of your attributes. For example if you have an object of:</p> <div class="language- extra-class"><pre class="language-text"><code>{ â€œcapacityâ€: 1, â€œpricePerDeskâ€: 500 }
</code></pre></div><p>You can compress the object with emoji into:</p> <div class="language- extra-class"><pre class="language-text"><code>{ â€œğŸ‘¨â€ğŸ’¼â€: 1, â€œğŸª‘â€: 500 }
</code></pre></div><p>Now, compare this with:</p> <div class="language- extra-class"><pre class="language-text"><code>{ â€œcâ€: 1, â€œpâ€: 500 }
</code></pre></div><p>Not only the object is more readable when you are browsing through your database, but all of the database features should still work.</p> <h2 id="byte-size-caveat"><a href="#byte-size-caveat" class="header-anchor">#</a> Byte-size caveat</h2> <p>Despite the readability, you shouldn't neglect the byte-size of each emojis you use. See the following options compared in size:</p> <ol><li>walkDur: 7B</li> <li>ğŸš¶â°: 7B</li> <li>walkingDuration: 15B</li> <li>ğŸš¶â€â™‚ï¸â±ï¸: 19B (ğŸš¶â€â™‚ï¸: 13B)</li></ol> <p>Option 2 obviously is smaller than <code>walkingDuration</code>. If you have accidentally chosen Option 4 however, your object unfortunately will become bigger. It seems that the gendered walking emoji (option 4) has an extra variation sequences that has been added to the non-gendered walking emoji (option 2).</p> <hr> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <p><a href="https://www.serverlesschats.com/34/" target="_blank" rel="noopener noreferrer">Episode 34: Advanced NoSQL Data Modeling in DynamoDB with Rick Houlihan (Part 1) - Serverless Chats Podcast<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>Rick: As a matter of fact, one of my favorite stories is from my days at MongoDB, I was working with a university customer, I think 80% of the data they had in their system was attribute names and 64 terabytes data.</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.853bc79c.js" defer></script><script src="/assets/js/2.4d2bddf0.js" defer></script><script src="/assets/js/86.85328b10.js" defer></script>
  </body>
</html>
